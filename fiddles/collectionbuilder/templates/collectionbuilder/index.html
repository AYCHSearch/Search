{% load staticfiles %}
<html>
<head>
	<title>Collection Builder</title>
	<script src="{% static 'collectionbuilder/scripts/jquery.dev.js' %}"></script>
	<script src="{% static 'collectionbuilder/scripts/render_query_controls.js' %}"></script>
	<script src="{% static 'collectionbuilder/scripts/jquery.easy-autocomplete.min.js'  %}"></script>
	<link rel="stylesheet" href="{% static 'collectionbuilder/styles/easy-autocomplete.min.css' %}"></link> 
	<link rel="stylesheet" href="{% static 'collectionbuilder/styles/easy-autocomplete.themes.min.css' %}"></link> 
	<style type="text/css">
		#info{ display: none; }
		#results{ display: none; }
		#query-wrapper{ width: 100%; position: relative; height: 150px; border-bottom: thin solid black; padding-bottom: 55px;}
		#query-container{ width: 85%; margin-left: auto; margin-right: auto; height: 80%; border: thin solid black; font-family: Arial, Helvetic, _sans; font-size: 16px; }
		.clause-group{ position: relative; width: 95%; margin-right: auto; margin-left: auto; border: thin solid black; margin-top: 10px; padding: 0 25px 0 25px;}
		.clause{ position: relative; width: 95%; margin-right: auto; margin-left: auto; border: thin solid black; clear: both; margin-bottom: 10px;
			padding: 0 25px 0 25px;
		}
		.button-set{ width: 100%; position: relative; clear: both; min-height: 40px;}
		.button-control{ float: left; width: auto; border: thin solid black; padding: 5px 10px 5px 10px; margin: 0% 0% 0% 5%; cursor: pointer; }
		.ops-wrapper{  position: relative; clear: both; padding-bottom: 45px;  }
		.operator-radio-set, .negated-wrapper{ float: left; }
		h3{ margin: 5px 0px 5px 0px; }
		.clause-input{ clear: both; margin: 25px 0px 25px 0px; padding: 0px 0px 5px 0px;}
		.field-name, .field-value{ width: 45%; height: 35px; margin-left: 20px; }
		.negated-wrapper{ margin-left: 15px; }
		.expansions{ border: thin solid black; margin: 10px; padding: 10px; position: relative; }
		.lang-val{ font-style: italic; padding-left: 5px;  }
		.lang-val::before{ content:"("; }
		.lang-val::after{ content:")"; }
		.finished-expanding{ position: absolute; bottom: 25px; right: 50px; }
		#mode-shifter{ position: relative; margin: 15px 0 15px 0; padding-left: 30%; }
		.deprecated-clause{ color: #aaaaaa; }
		#to-save{ float: left; height: 30px; width: 200px; margin-left: 15px; visibility: hidden;}
		input, select{ font-size: 16px; }
		select{ margin-left: 20px; margin-top: 20px;}
		#inconsistent-operator-warning, #ungrouping-inconsistency-warning{ position: absolute; padding: 15px; border: 2px solid black; width: 50%;  background-color: #ffffff; z-index: 10; border-radius: 10px; margin-top: 15%; margin-left: 25%;visibility: hidden;}
		#iow-buttons{ position: relative; }
		.iow-button{ border: thin solid black; float: left; padding: 5px; width: 25%; margin: 10px; text-align: center; min-height: 45px; vertical-align: middle; cursor: pointer; }
		#iow-cancel{ padding-top: 15px; min-height: 35px; }
		#new-operator{ font-style: italic; }
		#previous-operator-info{ visibility: hidden;  }
		.easy-autocomplete{ display:inline; }
		select.all-field-listing, select.facet-selector{ max-width: 45%;  }
		.eac-item{ font-family: "Arial", "Helvetic", _sans; }
		#query-list{ visibility: hidden; }
	</style>
</head>
<body>
<div id="inconsistent-operator-warning">
<p>Changing just one operator in a clause group
creates ambiguous queries.<br/><br/>
To create a parseable query, you can either:<br/>
<p>
<ol>
<li>Change all operators in this clause group to <span id="new-operator"></span></li>
<li>Turn this clause into a clause group</li>
</ol>
<div id="iow-buttons">
<div id="iow-change-all" class="iow-button">Change all operators</div>
<div id="iow-convert-to-group" class="iow-button">Convert to clause group</div>
<div id="iow-cancel" class="iow-button">Cancel</div>
</div>		
</div>
<div id="previous-operator-info">
<span id="previous-operator"></span>
<span id="previous-node"></span>
</div>
<div id="current-query-name"></div>
<div id="ungrouping-inconsistency-warning">
<p>Removing this grouping causes the operators of the newly ungrouped clauses to 
be inconsistent with those of their siblings</p>
<p>Please alter the operators of these clauses before ungrouping them.</p>
<br/><br/>
<div id="ungrouping-iow-cancel" class="iow-button">Cancel</div>
</div>
{% if is_results == True %}
<input type="hidden" name="is-results" id="is-results" value="true"/>
{% else %}
<input type="hidden" name="is-results" id="is-results" value="false"/>
{% endif %}
<h1>Collection Builder</h1>
<div id="query-wrapper">
<div id="query-container">
Query here
</div>
<div id="mode-shifter">
<div class="button-control" id="open-from-file">Open Query</div>
<select name="query-list" id="query-list">
<option value="------------">--------------------</option>
</select>
<div class="button-control" id="save-to-file">Save Query</div>
<input name="file-name" value="File name here" id="to-save"/>
<div class="button-control" id="reset-query">Reset Current Query</div>
<div class="button-control" id="view-results">Results</div>
</div>
</div>
<div id="qb">
<div id="clause-controllers">
</div>
</div>
<div id="info">
<p>Info here</p>
</div>
<div id="results">
<h3>Results</h3>
</div>
</body>
</html>